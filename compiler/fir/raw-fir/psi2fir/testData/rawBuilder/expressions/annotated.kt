@Target(AnnotationTarget.EXPRESSION)
@Retention(AnnotationRetention.SOURCE)
annotation class Ann

fun foo(arg: Int): Int {
    if (@Ann arg == 0) {
        @Ann return 1
    }
    @Ann if (arg == 1) {
        return (@Ann 1)
    }
    return 42
}

data class Two(x: Int, y: Int)

fun bar(two: Two) {
    val (@Ann x, @Ann y) = two
}

// FIR_FRAGMENT_EXPECTED LINE: 5 TEXT OFFSET: 121 LINE TEXT: {
// FIR_FRAGMENT_EXPECTED LINE: 6 TEXT OFFSET: 127 LINE TEXT: if (@Ann arg == 0) {
// FIR_FRAGMENT_EXPECTED LINE: 12 TEXT OFFSET: 235 LINE TEXT: return 42
// FIR_FRAGMENT_EXPECTED LINE: 6 TEXT OFFSET: 146 LINE TEXT: {
// FIR_FRAGMENT_EXPECTED LINE: 9 TEXT OFFSET: 199 LINE TEXT: {
// FIR_FRAGMENT_EXPECTED LINE: 10 TEXT OFFSET: 209 LINE TEXT: return (@Ann 1)
// FIR_FRAGMENT_EXPECTED LINE: 17 TEXT OFFSET: 298 LINE TEXT: {
// FIR_FRAGMENT_EXPECTED LINE: 18 TEXT OFFSET: 304 LINE TEXT: val (@Ann x, @Ann y) = two
// FIR_FRAGMENT_EXPECTED LINE: 3 TEXT OFFSET: 93 LINE TEXT: @Target(AnnotationTarget.EXPRESSION)
// FIR_FRAGMENT_EXPECTED LINE: 5 TEXT OFFSET: 102 LINE TEXT: fun foo(arg: Int): Int {
// FIR_FRAGMENT_EXPECTED LINE: 5 TEXT OFFSET: 106 LINE TEXT: arg: Int
// FIR_FRAGMENT_EXPECTED LINE: 15 TEXT OFFSET: 259 LINE TEXT: data class Two(x: Int, y: Int)
// FIR_FRAGMENT_EXPECTED LINE: 17 TEXT OFFSET: 284 LINE TEXT: fun bar(two: Two) {
// FIR_FRAGMENT_EXPECTED LINE: 17 TEXT OFFSET: 288 LINE TEXT: two: Two